<div class="auth-container">
  <!-- Left Section - Brand & Graphics -->
  <div class="auth-visual">
    <div class="visual-background">
      <div class="gradient-blob blob-1"></div>
      <div class="gradient-blob blob-2"></div>
      <div class="gradient-blob blob-3"></div>
    </div>
    
    <div class="visual-content">
      <div class="brand-section">
        <mat-icon class="brand-icon">celebration</mat-icon>
        <h1 class="brand-title">Join EventManage</h1>
        <p class="brand-tagline">Start Planning Extraordinary Events Today</p>
      </div>

      <div class="features-showcase">
        <div class="feature-showcase-item" *ngFor="let feature of features">
          <div class="feature-icon-wrapper">
            <mat-icon>{{ feature.icon }}</mat-icon>
          </div>
          <div class="feature-text">
            <h3>{{ feature.title }}</h3>
            <p>{{ feature.description }}</p>
          </div>
        </div>
      </div>

      <div class="stats-section">
        <div class="stat-item">
          <div class="stat-value">10K+</div>
          <div class="stat-label">Active Users</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">50K+</div>
          <div class="stat-label">Events Created</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">99.9%</div>
          <div class="stat-label">Uptime</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Right Section - Registration Form -->
  <div class="auth-form">
    <div class="form-wrapper">
      <!-- Back to Home Link -->
      <a routerLink="/" class="back-link">
        <mat-icon>arrow_back</mat-icon>
        Back to Home
      </a>

      <!-- Form Header -->
      <div class="form-header">
        <h2>Create Your Account</h2>
        <p>Join thousands of event professionals</p>
      </div>

      <!-- Alert Messages -->
      <div *ngIf="showMessage" class="alert-message alert-success" [@fadeInOut]>
        <mat-icon>check_circle</mat-icon>
        <span>{{ responseMessage }}</span>
      </div>

      <div *ngIf="showError" class="alert-message alert-error" [@fadeInOut]>
        <mat-icon>error</mat-icon>
        <span>{{ errorMessage }}</span>
      </div>

      <!-- Registration Form -->
      <form [formGroup]="itemForm" (ngSubmit)="onRegister()" class="registration-form">
        <!-- Username Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Username</mat-label>
          <input 
            matInput 
            type="text" 
            formControlName="username"
            placeholder="Choose a unique username">
          <mat-icon matPrefix>person</mat-icon>
          <mat-hint>Only lowercase letters allowed</mat-hint>
          <mat-error *ngIf="itemForm.get('username')?.hasError('required')">
            Username is required
          </mat-error>
          <mat-error *ngIf="itemForm.get('username')?.hasError('pattern')">
            Username must contain only lowercase letters
          </mat-error>
          <mat-error *ngIf="itemForm.get('username')?.hasError('notUnique')">
            Username already exists
          </mat-error>
        </mat-form-field>

        <!-- Email Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input 
            matInput 
            type="email" 
            formControlName="email"
            placeholder="your.email@example.com">
          <mat-icon matPrefix>email</mat-icon>
          <mat-error *ngIf="itemForm.get('email')?.hasError('required')">
            Email is required
          </mat-error>
          <mat-error *ngIf="itemForm.get('email')?.hasError('email')">
            Please enter a valid email address
          </mat-error>
        </mat-form-field>

        <!-- Password Field -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Password</mat-label>
          <input 
            matInput 
            [type]="hidePassword ? 'password' : 'text'"
            formControlName="password"
            placeholder="Create a strong password">
          <mat-icon matPrefix>lock</mat-icon>
          <button 
            mat-icon-button 
            matSuffix 
            type="button"
            (click)="hidePassword = !hidePassword"
            [attr.aria-label]="'Hide password'" 
            [attr.aria-pressed]="hidePassword">
            <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-hint>Min 8 characters with uppercase, lowercase, number & symbol</mat-hint>
          <mat-error *ngIf="itemForm.get('password')?.hasError('required')">
            Password is required
          </mat-error>
          <mat-error *ngIf="itemForm.get('password')?.hasError('pattern')">
            Password must be 8-20 chars with uppercase, lowercase, number & special character
          </mat-error>
        </mat-form-field>

        <!-- Role Selection -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select Your Role</mat-label>
          <mat-select formControlName="role" placeholder="Choose your role">
            <mat-option value="PLANNER">
              <mat-icon>event_note</mat-icon>
              Event Planner
            </mat-option>
            <mat-option value="STAFF">
              <mat-icon>badge</mat-icon>
              Staff Member
            </mat-option>
            <mat-option value="CLIENT">
              <mat-icon>person</mat-icon>
              Client
            </mat-option>
          </mat-select>
          <mat-icon matPrefix>work</mat-icon>
          <mat-error *ngIf="itemForm.get('role')?.hasError('required')">
            Please select a role
          </mat-error>
        </mat-form-field>

        <!-- Terms & Conditions -->
        <div class="terms-section">
          <mat-checkbox color="primary">
            I agree to the <a href="#" class="link">Terms & Conditions</a> and <a href="#" class="link">Privacy Policy</a>
          </mat-checkbox>
        </div>

        <!-- Submit Button -->
        <button 
          mat-raised-button 
          color="primary" 
          type="submit" 
          class="submit-btn"
          [disabled]="itemForm.invalid || isLoading">
          <span *ngIf="!isLoading">Create Account</span>
          <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
        </button>
      </form>

      <!-- Sign In Link -->
      <div class="form-footer">
        <p>Already have an account? 
          <a routerLink="/login" class="signin-link">Sign In</a>
        </p>
      </div>
    </div>
  </div>
</div>
